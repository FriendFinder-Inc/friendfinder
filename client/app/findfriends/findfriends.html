<div class='container'>
  <div id="findfriends-container">

    <div id='findfriends-segment' class='ui segment'>

      <div id='left-rail' class="ui left attached rail" ng-show='!showSideDiv'>
        <div id='show-segment' class="ui segment">
          <div class='ui mini red button' ng-click="toggleSideDiv()">
            show
          </div>
        </div>
      </div>

      <div id='right-rail' class="ui right attached rail">
        <div id='scroll-segment' class="ui segment">
          <i id='up-arrow' class='ui arrow circle up big icon' ng-click='scrollTop()'></i>
        </div>
      </div>

      <div id='accordion' ng-show='showSideDiv'>
        <ng-include src="'app/findfriends/filterAccordion.html'" onload="linkAccordion()"></ng-include>
      </div>

      <div id='right' ng-class='{full: !showSideDiv, twoThirds: showSideDiv}' ng-show='showRightSide()'>
        <div id='grid-container'>
          <div class="ui grid">
            <div class="doubling two column row" ng-show='(isTooSmall() || showSideDiv) && isDouble($index)'
              ng-repeat='user in $parent.users' ng-class="{workaround: '(isTooSmall() || showSideDiv) && isDouble($index)'}">
              <div ng-attr-id="{{'half-'+makeHalf()}}" class="column">
                <div id='golden-wrapper'>
                  <div id='card-container'>
                    <div class="ui card profile-card">
                      <div id='top-half'>
                        <div id='left-side'>
                          <div class="image" ng-click="$parent.showProfileModal(user['@rid'], 'profile')">
                            <img class='card-photo' ng-src="https://graph.facebook.com/{{ user.facebookId }}/picture?width=500&height=500">
                          </div>
                        </div>
                        <div class='middle'>
                          {{ birthdayToAge(user.birthday) }} ,
                          <a ng-click="$parent.showProfileModal(user['@rid'], 'profile')" class="header">{{ user.name.split(' ')[0] }}</a>
                          <div class="meta">
                            <span>{{ user.location.name || 'location unknown' }}</span>
                          </div>
                        </div>
                        <div id='right-side'>
                          <div class="ui blue button top-right-button">
                            55mi
                          </div>
                        </div>
                      </div>
                      <div class="ui fitted divider"></div>
                      <div id='bottom-half'>
                        <div class='intro-wrapper ellipsis'>
                          {{ user.profile.intro }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div ng-attr-id="{{'half-'+makeHalf()}}" class="column">
                <div id='golden-wrapper'>
                  <div id='card-container'>
                    <div class="ui card profile-card" ng-if='users[$index+1]'>
                      <div id='top-half'>
                        <div id='left-side'>
                          <div class="image" ng-click="$parent.showProfileModal(users[$index+1]['@rid'], 'profile')">
                            <img class='card-photo' ng-src="https://graph.facebook.com/{{ users[$index+1].facebookId }}/picture?width=500&height=500">
                          </div>
                        </div>
                        <div class='middle'>
                          {{ birthdayToAge(users[$index+1].birthday) }} ,
                          <a ng-click="$parent.showProfileModal(users[$index+1]['@rid'], 'profile')" class="header">{{ users[$index+1].name.split(' ')[0] }}</a>
                          <div class="meta">
                            <span>{{ users[$index+1].location.name || 'location unknown' }}</span>
                          </div>
                        </div>
                        <div id='right-side'>
                          <div class="ui blue button top-right-button">
                            55mi
                          </div>
                        </div>
                      </div>
                      <div class="ui fitted divider"></div>
                      <div id='bottom-half'>
                        <div class='intro-wrapper ellipsis'>
                          {{ users[$index+1].profile.intro }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="doubling three column row" ng-show='!showSideDiv && isTriple($index) && !isTooSmall()'
              ng-repeat='user in $parent.users' ng-class="{workaround: '!showSideDiv && isTriple($index) && !isTooSmall()'}">
              {{ user.name }}
              <div class="column">
                <div id='golden-wrapper'>
                  <div id='card-container'>
                    <div class="ui card profile-card">
                      <div id='top-half'>
                        <div id='left-side'>
                          <div class="image" ng-click="$parent.showProfileModal(user['@rid'], 'profile')">
                            <img class='card-photo' ng-src="https://graph.facebook.com/{{ user.facebookId }}/picture?width=500&height=500">
                          </div>
                        </div>
                        <div class='middle'>
                          {{ birthdayToAge(user.birthday) }} ,
                          <a ng-click="$parent.showProfileModal(user['@rid'], 'profile')" class="header">{{ user.name.split(' ')[0] }}</a>
                          <div class="meta">
                            <span>{{ user.location.name || 'location unknown' }}</span>
                          </div>
                        </div>
                        <div id='right-side'>
                          <div class="ui blue button top-right-button">
                            55mi
                          </div>
                        </div>
                      </div>
                      <div class="ui fitted divider"></div>
                      <div id='bottom-half'>
                        <div class='intro-wrapper ellipsis'>
                          {{ user.profile.intro }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="column">
                <div id='golden-wrapper'>
                  <div id='card-container'>
                    <div class="ui card profile-card" ng-if='users[$index+1]'>
                      <div id='top-half'>
                        <div id='left-side'>
                          <div class="image" ng-click="$parent.showProfileModal(users[$index+1]['@rid'], 'profile')">
                            <img class='card-photo' ng-src="https://graph.facebook.com/{{ users[$index+1].facebookId }}/picture?width=500&height=500">
                          </div>
                        </div>
                        <div class='middle'>
                          {{ birthdayToAge(users[$index+1].birthday) }} ,
                          <a ng-click="$parent.showProfileModal(users[$index+1]['@rid'], 'profile')" class="header">{{ users[$index+1].name.split(' ')[0] }}</a>
                          <div class="meta">
                            <span>{{ users[$index+1].location.name || 'location unknown' }}</span>
                          </div>
                        </div>
                        <div id='right-side'>
                          <div class="ui blue button top-right-button">
                            55mi
                          </div>
                        </div>
                      </div>
                      <div class="ui fitted divider"></div>
                      <div id='bottom-half'>
                        <div class='intro-wrapper ellipsis'>
                          {{ users[$index+1].profile.intro }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="column">
                <div id='golden-wrapper'>
                  <div id='card-container'>
                    <div class="ui card profile-card" ng-if='users[$index+2]'>
                      <div id='top-half'>
                        <div id='left-side'>
                          <div class="image" ng-click="$parent.showProfileModal(users[$index+2]['@rid'], 'profile')">
                            <img class='card-photo' ng-src="https://graph.facebook.com/{{ users[$index+2].facebookId }}/picture?width=500&height=500">
                          </div>
                        </div>
                        <div class='middle'>
                          {{ birthdayToAge(users[$index+2].birthday) }} ,
                          <a ng-click="$parent.showProfileModal(users[$index+2]['@rid'], 'profile')" class="header">{{ users[$index+2].name.split(' ')[0] }}</a>
                          <div class="meta">
                            <span>{{ users[$index+2].location.name || 'location unknown' }}</span>
                          </div>
                        </div>
                        <div id='right-side'>
                          <div class="ui blue button top-right-button">
                            55mi
                          </div>
                        </div>
                      </div>
                      <div class="ui fitted divider"></div>
                      <div id='bottom-half'>
                        <div class='intro-wrapper ellipsis'>
                          {{ users[$index+2].profile.intro }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
